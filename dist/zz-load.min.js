var zzLoad=function(){"use strict";var n={rootMargin:"0px",threshold:0,onLoad:function(){},onError:function(){}},t="data-zzload-is-observed",r="data-zzload-is-processed",o="data-zzload-is-loaded",i="data-zzload-is-failed",a="data-zzload-is-inview",p="data-zzload-source-img",E="data-zzload-source-srcset",L="data-zzload-source-background-img",y="data-zzload-source-image",N="data-zzload-source-iframe",V="data-zzload-container",s="data-zzload-inview",C=function(e){e.removeAttribute(p),e.removeAttribute(E),e.removeAttribute(L),e.removeAttribute(y),e.removeAttribute(N),e.removeAttribute(V)},c=function(z,h,A,e){var r=function(t,r){I.processed(z);var i=document.createElement("img"),a=function(e){I.loaded(z,e),h(z,e),t&&t(z,e)};function e(){C(z),a(this.src)}function n(){var e=this.src;I.failed(z,e),A(z,e),r&&r(z,e)}i.onload=e,i.onerror=n;var o=z.getAttribute(p);if(o){var u=z.getAttribute(E);return u&&(i.srcset=u,z.srcset=u),i.src=o,z.src=o,null}if(o=z.getAttribute(L))return i.src=o,z.style.backgroundImage="url(".concat(o,")"),null;if(o=z.getAttribute(y)){var s=z.querySelector("image");if(s instanceof window.SVGImageElement)return i.src=o,s.setAttribute("href",o),null}if(o=z.getAttribute(N))return z.onload=e,z.onerror=n,z.src=o,null;if("picture"===z.nodeName.toLowerCase()){var c=z.getElementsByTagName("img")[0];if(c instanceof window.HTMLImageElement){for(var l=function(e){return e.replace(/^\/\//i,"").replace(window.location.origin,"")},d=l(c.currentSrc),f=null,v=null,m=0;m<z.children.length;m++){var g=z.children[m],b="source"===g.nodeName.toLowerCase(),w="img"===g.nodeName.toLowerCase();d===l(b?g.srcset:w?g.src:"")&&(f=g.getAttribute(p)||null,v=g.getAttribute(E))}return null===f?(console.warn("Must provide `data-zzload-source-picture` on all children elements"),console.warn(z)):(i.onload=function(){for(var e=0;e<z.children.length;e++){var t=z.children[e],r=t.getAttribute(p),n=t.getAttribute(E);"source"===t.nodeName.toLowerCase()?(n&&(r+=", "+n),t.srcset=r):"img"===t.nodeName.toLowerCase()&&(n&&(t.srcset=n),t.src=r),C(t)}var o=i.currentSrc;a(o)},v&&(i.srcset=v),i.src=f),null}console.warn("No `img` in `picture`!")}if(z.hasAttribute(V))return I.loaded(z),h(z),t&&t(z),null;console.log(z),console.log("â–² element has no zz-load source")};return e&&window.Promise?new Promise(function(e,t){r(e,t)}):(r(),null)},u=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new window.CustomEvent("zzload:".concat(e),{detail:t})},I={observed:function(e){e.setAttribute(t,""),e.dispatchEvent(u("observed",{element:e}))},processed:function(e){e.setAttribute(r,""),e.dispatchEvent(u("processed",{element:e}))},loaded:function(e,t){e.setAttribute(o,""),e.dispatchEvent(u("loaded",{element:e,source:t}))},failed:function(e,t){e.setAttribute(i,""),e.dispatchEvent(u("failed",{element:e,source:t}))},inView:function(e,t){e.setAttribute(a,""),e.dispatchEvent(u("inView",{element:e,source:t}))},outOfView:function(e,t){e.removeAttribute(a,""),e.dispatchEvent(u("outOfView",{element:e,source:t}))}},l=function(e){return e.hasAttribute(t)},d=function(e){return e.hasAttribute(r)},f=function(e){return e.hasAttribute(a)};return function(o,e){var i,a=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={};for(var r in n)t[r]=e.hasOwnProperty(r)?e[r]:n[r];return t}(e),u=null;return window.IntersectionObserver&&(u=new window.IntersectionObserver((i=a,function(e,n){e.forEach(function(e){var t=e.target,r=t.hasAttribute(s);0<e.intersectionRatio||e.isIntersecting?r?I.inView(t,null):(n.unobserve(t),c(t,i.onLoad,i.onError)):r&&f(t)&&I.outOfView(t,null)})}),{rootMargin:a.rootMargin,threshold:a.threshold})),{observe:function(){for(var e,t=(e=o)instanceof window.Element?[e]:e instanceof window.NodeList?e:e&&e.jquery?e.toArray():("string"!=typeof e&&(e=".zzload"),document.querySelectorAll(e)),r=0;r<t.length;r++){var n=t[r];l(n)||(I.observed(n),u?u.observe(n):c(n,a.onLoad,a.onError))}},triggerLoad:function(e){if(!d(e))return I.observed(e),c(e,a.onLoad,a.onError,!0)}}}}();
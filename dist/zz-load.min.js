var zzLoad=function(){"use strict";function h(e){e.removeAttribute(A),e.removeAttribute(O),e.removeAttribute(L),e.removeAttribute(S),e.removeAttribute(p),e.removeAttribute(y)}function a(b,w,e){function r(t,r){function i(e){w.clearSourceAttrs&&h(b),E.loaded(b,e),w.onLoad(b,e),t&&t(b,e)}E.processed(b),w.onProcessStart(b);var a=document.createElement("img");function e(){var e=this.src;E.failed(b,e),w.onError(b,e),r&&r(b,e)}a.onerror=e;var n=b.getAttribute(A);if(n){var o=b.getAttribute(O);return a.onload=function(){w.setSourcesOnlyOnLoad&&(o&&(b.srcset=o),b.src=n),i(a.currentSrc)},o&&(a.srcset=o,!0!==w.setSourcesOnlyOnLoad&&(b.srcset=o)),a.src=n,!0!==w.setSourcesOnlyOnLoad&&(b.src=n),null}if(n=b.getAttribute(L))return a.onload=function(){w.setSourcesOnlyOnLoad&&(b.style.backgroundImage="url(".concat(n,")")),i(a.currentSrc)},a.src=n,!0!==w.setSourcesOnlyOnLoad&&(b.style.backgroundImage="url(".concat(n,")")),null;if(n=b.getAttribute(S)){var u=b.querySelector("image");if(u instanceof window.SVGImageElement)return a.onload=function(){w.setSourcesOnlyOnLoad&&u.setAttribute("href",n),i(a.currentSrc)},a.src=n,!0!==w.setSourcesOnlyOnLoad&&u.setAttribute("href",n),null}if(n=b.getAttribute(p))return b.onload=function(){i(this.src)},b.onerror=e,b.src=n,null;if("picture"===b.nodeName.toLowerCase()){var s=b.getElementsByTagName("img")[0];if(s instanceof window.HTMLImageElement){for(var c=function(e){return e.replace(/^\/\//i,"").replace(window.location.origin,"")},l=c(s.currentSrc),d=null,f=null,v=0;v<b.children.length;v++){var m=b.children[v],z="source"===m.nodeName.toLowerCase(),g="img"===m.nodeName.toLowerCase();l===c(z?m.srcset:g?m.src:"")&&(d=m.getAttribute(A)||null,f=m.getAttribute(O))}return null===d?(console.warn("You must provide all the `data-zzload-source-*` attributes for all children."),console.warn(b)):(a.onload=function(){for(var e=0;e<b.children.length;e++){var t=b.children[e],r=t.getAttribute(A),n=t.getAttribute(O);"source"===t.nodeName.toLowerCase()?(n&&(r+=", "+n),t.srcset=r):"img"===t.nodeName.toLowerCase()&&(n&&(t.srcset=n),t.src=r),h(t)}var o=a.currentSrc;i(o)},f&&(a.srcset=f),a.src=d),null}console.warn("No `img` in `picture`!")}if(b.hasAttribute(y))return E.loaded(b),w.onLoad(b),t&&t(b),null;console.log(b),console.log("â–² element has no zz-load source")}return e&&window.Promise?new Promise(function(e,t){r(e,t)}):(r(),null)}function r(e,t){var r=1<arguments.length&&void 0!==t?t:{};return new window.CustomEvent(e,{detail:r})}var t="data-zzload-is-observed",n="data-zzload-is-processed",o="data-zzload-is-loaded",i="data-zzload-is-failed",u="data-zzload-is-inview",A="data-zzload-source-img",O="data-zzload-source-srcset",L="data-zzload-source-background-img",S="data-zzload-source-image",p="data-zzload-source-iframe",y="data-zzload-container",s="data-zzload-inview",c="zzload:observed",l="zzload:processed",d="zzload:loaded",f="zzload:failed",v="zzload:inView",m="zzload:outOfView",z={rootMargin:"0px",threshold:0,clearSourceAttrs:!1,setSourcesOnlyOnLoad:!0,onProcessStart:function(){},onLoad:function(){},onError:function(){}},E={observed:function(e){e.setAttribute(t,!0),e.dispatchEvent(r(c,{element:e}))},processed:function(e){e.setAttribute(n,!0),e.dispatchEvent(r(l,{element:e}))},loaded:function(e,t){e.setAttribute(o,!0),e.dispatchEvent(r(d,{element:e,source:t}))},failed:function(e,t){e.setAttribute(i,!0),e.dispatchEvent(r(f,{element:e,source:t}))},inView:function(e,t){e.setAttribute(u,!0),e.dispatchEvent(r(v,{element:e,source:t}))},outOfView:function(e,t){e.removeAttribute(u),e.dispatchEvent(r(m,{element:e,source:t}))}},g=function(e){return e.hasAttribute(t)},b=function(e){return e.hasAttribute(n)},w=function(e){return e.hasAttribute(u)};return function(n,e){var o=function(e){var t=0<arguments.length&&void 0!==e?e:{},r={};for(var n in z)r[n]=t.hasOwnProperty(n)?t[n]:z[n];return r}(e),i=null;return window.IntersectionObserver&&(i=new window.IntersectionObserver(function(o){return function(e,n){e.forEach(function(e){var t=e.target,r=t.hasAttribute(s);0<e.intersectionRatio||e.isIntersecting?r?E.inView(t,null):(n.unobserve(t),a(t,o)):r&&w(t)&&E.outOfView(t,null)})}}(o),{rootMargin:o.rootMargin,threshold:o.threshold})),{observe:function(){for(var e=function(e){return e instanceof window.Element?[e]:e instanceof window.NodeList?e:e&&e.jquery?e.toArray():("string"!=typeof e&&(e=".zzload"),document.querySelectorAll(e))}(n),t=0;t<e.length;t++){var r=e[t];g(r)||(E.observed(r),i?i.observe(r):a(r,o))}},triggerLoad:function(e){if(!b(e))return E.observed(e),a(e,o,!0)}}}}();
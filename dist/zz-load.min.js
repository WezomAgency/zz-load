var zzLoad=function(){"use strict";var t="data-zzload-is-observed",r="data-zzload-is-processed",o="data-zzload-is-loaded",n="data-zzload-is-failed",a="data-zzload-is-inview",h="data-zzload-source-img",A="data-zzload-source-srcset",O="data-zzload-source-background-img",L="data-zzload-source-image",S="data-zzload-source-iframe",p="data-zzload-container",u="data-zzload-inview",i="zzload:observed",s="zzload:processed",c="zzload:loaded",l="zzload:failed",d="zzload:inView",f="zzload:outOfView",v={rootMargin:"0px",threshold:0,clearSourceAttrs:!1,setSourcesOnlyOnLoad:!0,onProcessStart:function(){},onLoad:function(){},onError:function(){}},y=function(e){e.removeAttribute(h),e.removeAttribute(A),e.removeAttribute(O),e.removeAttribute(L),e.removeAttribute(S),e.removeAttribute(p)},m=function(b,w,e){var r=function(t,r){E.processed(b),w.onProcessStart(b);var a=document.createElement("img"),i=function(e){w.clearSourceAttrs&&y(b),E.loaded(b,e),w.onLoad(b,e),t&&t(b,e)};function e(){var e=this.src;E.failed(b,e),w.onError(b,e),r&&r(b,e)}a.onerror=e;var o=b.getAttribute(h);if(o){var n=b.getAttribute(A);return a.onload=function(){w.setSourcesOnlyOnLoad&&(n&&(b.srcset=n),b.src=o),i(a.currentSrc)},n&&(a.srcset=n,!0!==w.setSourcesOnlyOnLoad&&(b.srcset=n)),a.src=o,!0!==w.setSourcesOnlyOnLoad&&(b.src=o),null}if(o=b.getAttribute(O))return a.onload=function(){w.setSourcesOnlyOnLoad&&(b.style.backgroundImage="url(".concat(o,")")),i(a.currentSrc)},a.src=o,!0!==w.setSourcesOnlyOnLoad&&(b.style.backgroundImage="url(".concat(o,")")),null;if(o=b.getAttribute(L)){var s=b.querySelector("image");if(s instanceof window.SVGImageElement)return a.onload=function(){w.setSourcesOnlyOnLoad&&s.setAttribute("href",o),i(a.currentSrc)},a.src=o,!0!==w.setSourcesOnlyOnLoad&&s.setAttribute("href",o),null}if(o=b.getAttribute(S))return b.onload=function(){i(this.src)},b.onerror=e,b.src=o,null;if("picture"===b.nodeName.toLowerCase()){var u=b.getElementsByTagName("img")[0];if(u instanceof window.HTMLImageElement){for(var c=function(e){return e.replace(/^\/\//i,"").replace(window.location.origin,"")},l=c(u.currentSrc),d=null,f=null,v=0;v<b.children.length;v++){var m=b.children[v],z="source"===m.nodeName.toLowerCase(),g="img"===m.nodeName.toLowerCase();l===c(z?m.srcset:g?m.src:"")&&(d=m.getAttribute(h)||null,f=m.getAttribute(A))}return null===d?(console.warn("You must provide all the `data-zzload-source-*` attributes for all children."),console.warn(b)):(a.onload=function(){for(var e=0;e<b.children.length;e++){var t=b.children[e],r=t.getAttribute(h),o=t.getAttribute(A);"source"===t.nodeName.toLowerCase()?(o&&(r+=", "+o),t.srcset=r):"img"===t.nodeName.toLowerCase()&&(o&&(t.srcset=o),t.src=r),y(t)}var n=a.currentSrc;i(n)},f&&(a.srcset=f),a.src=d),null}console.warn("No `img` in `picture`!")}if(b.hasAttribute(p))return E.loaded(b),w.onLoad(b),t&&t(b),null;console.log(b),console.log("â–² element has no zz-load source")};return e&&window.Promise?new Promise(function(e,t){r(e,t)}):(r(),null)},z=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new window.CustomEvent(e,{detail:t})},E={observed:function(e){e.setAttribute(t,!0),e.dispatchEvent(z(i,{element:e}))},processed:function(e){e.setAttribute(r,!0),e.dispatchEvent(z(s,{element:e}))},loaded:function(e,t){e.setAttribute(o,!0),e.dispatchEvent(z(c,{element:e,source:t}))},failed:function(e,t){e.setAttribute(n,!0),e.dispatchEvent(z(l,{element:e,source:t}))},inView:function(e,t){e.setAttribute(a,!0),e.dispatchEvent(z(d,{element:e,source:t}))},outOfView:function(e,t){e.removeAttribute(a),e.dispatchEvent(z(f,{element:e,source:t}))}},g=function(e){return e.hasAttribute(t)},b=function(e){return e.hasAttribute(r)},w=function(e){return e.hasAttribute(a)};return function(n,e){var a,i=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={};for(var r in v)t[r]=e.hasOwnProperty(r)?e[r]:v[r];return t}(e),s=null;return window.IntersectionObserver&&(s=new window.IntersectionObserver((a=i,function(e,o){e.forEach(function(e){var t=e.target,r=t.hasAttribute(u);0<e.intersectionRatio||e.isIntersecting?r?E.inView(t,null):(o.unobserve(t),m(t,a)):r&&w(t)&&E.outOfView(t,null)})}),{rootMargin:i.rootMargin,threshold:i.threshold})),{observe:function(){for(var e,t=(e=n)instanceof window.Element?[e]:e instanceof window.NodeList?e:e&&e.jquery?e.toArray():("string"!=typeof e&&(e=".zzload"),document.querySelectorAll(e)),r=0;r<t.length;r++){var o=t[r];g(o)||(E.observed(o),s?s.observe(o):m(o,i))}},triggerLoad:function(e){if(!b(e))return E.observed(e),m(e,i,!0)}}}}();
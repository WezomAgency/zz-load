var zzLoad=function(){"use strict";function p(e){e.removeAttribute(E),e.removeAttribute(L),e.removeAttribute(y),e.removeAttribute(N),e.removeAttribute(O),e.removeAttribute(V)}function a(w,h,A,e){function r(t,r){function i(e){C.loaded(w,e),h(w,e),t&&t(w,e)}C.processed(w);var a=document.createElement("img");function e(){p(w),i(this.src)}function n(){var e=this.src;C.failed(w,e),A(w,e),r&&r(w,e)}a.onload=e,a.onerror=n;var o=w.getAttribute(E);if(o){var u=w.getAttribute(L);return u&&(a.srcset=u,w.srcset=u),a.src=o,w.src=o,null}if(o=w.getAttribute(y))return a.src=o,w.style.backgroundImage="url(".concat(o,")"),null;if(o=w.getAttribute(N)){var s=w.querySelector("image");if(s instanceof window.SVGImageElement)return a.src=o,s.setAttribute("href",o),null}if(o=w.getAttribute(O))return w.onload=e,w.onerror=n,w.src=o,null;if("picture"===w.nodeName.toLowerCase()){var c=w.getElementsByTagName("img")[0];if(c instanceof window.HTMLImageElement){for(var l=function(e){return e.replace(/^\/\//i,"").replace(window.location.origin,"")},d=l(c.currentSrc),f=null,v=null,m=0;m<w.children.length;m++){var z=w.children[m],g="source"===z.nodeName.toLowerCase(),b="img"===z.nodeName.toLowerCase();d===l(g?z.srcset:b?z.src:"")&&(f=z.getAttribute(E)||null,v=z.getAttribute(L))}return null===f?(console.warn("Must provide `data-zzload-source-picture` on all children elements"),console.warn(w)):(a.onload=function(){for(var e=0;e<w.children.length;e++){var t=w.children[e],r=t.getAttribute(E),n=t.getAttribute(L);"source"===t.nodeName.toLowerCase()?(n&&(r+=", "+n),t.srcset=r):"img"===t.nodeName.toLowerCase()&&(n&&(t.srcset=n),t.src=r),p(t)}var o=a.currentSrc;i(o)},v&&(a.srcset=v),a.src=f),null}console.warn("No `img` in `picture`!")}if(w.hasAttribute(V))return C.loaded(w),h(w),t&&t(w),null;console.log(w),console.log("â–² element has no zz-load source")}return e&&window.Promise?new Promise(function(e,t){r(e,t)}):(r(),null)}function r(e,t){var r=1<arguments.length&&void 0!==t?t:{};return new window.CustomEvent(e,{detail:r})}var t="data-zzload-is-observed",n="data-zzload-is-processed",o="data-zzload-is-loaded",i="data-zzload-is-failed",u="data-zzload-is-inview",E="data-zzload-source-img",L="data-zzload-source-srcset",y="data-zzload-source-background-img",N="data-zzload-source-image",O="data-zzload-source-iframe",V="data-zzload-container",s="data-zzload-inview",c="zzload:observed",l="zzload:processed",d="zzload:loaded",f="zzload:failed",v="zzload:inView",m="zzload:outOfView",z={rootMargin:"0px",threshold:0,clearAttrs:!0,setSourceOnLoad:!0,onLoad:function(){},onError:function(){}},C={observed:function(e){e.setAttribute(t,""),e.dispatchEvent(r(c,{element:e}))},processed:function(e){e.setAttribute(n,""),e.dispatchEvent(r(l,{element:e}))},loaded:function(e,t){e.setAttribute(o,""),e.dispatchEvent(r(d,{element:e,source:t}))},failed:function(e,t){e.setAttribute(i,""),e.dispatchEvent(r(f,{element:e,source:t}))},inView:function(e,t){e.setAttribute(u,""),e.dispatchEvent(r(v,{element:e,source:t}))},outOfView:function(e,t){e.removeAttribute(u,""),e.dispatchEvent(r(m,{element:e,source:t}))}},g=function(e){return e.hasAttribute(t)},b=function(e){return e.hasAttribute(n)},w=function(e){return e.hasAttribute(u)};return function(n,e){var o=function(e){var t=0<arguments.length&&void 0!==e?e:{},r={};for(var n in z)r[n]=t.hasOwnProperty(n)?t[n]:z[n];return r}(e),i=null;return window.IntersectionObserver&&(i=new window.IntersectionObserver(function(o){return function(e,n){e.forEach(function(e){var t=e.target,r=t.hasAttribute(s);0<e.intersectionRatio||e.isIntersecting?r?C.inView(t,null):(n.unobserve(t),a(t,o.onLoad,o.onError)):r&&w(t)&&C.outOfView(t,null)})}}(o),{rootMargin:o.rootMargin,threshold:o.threshold})),{observe:function(){for(var e=function(e){return e instanceof window.Element?[e]:e instanceof window.NodeList?e:e&&e.jquery?e.toArray():("string"!=typeof e&&(e=".zzload"),document.querySelectorAll(e))}(n),t=0;t<e.length;t++){var r=e[t];g(r)||(C.observed(r),i?i.observe(r):a(r,o.onLoad,o.onError))}},triggerLoad:function(e){if(!b(e))return C.observed(e),a(e,o.onLoad,o.onError,!0)}}}}();
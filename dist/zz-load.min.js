var zzLoad=function(){"use strict";function h(e){e.removeAttribute(A),e.removeAttribute(O),e.removeAttribute(L),e.removeAttribute(S),e.removeAttribute(p),e.removeAttribute(y)}function c(b,w,e){function r(t,r){function a(e){w.clearSourceAttrs&&h(b),E.loaded(b,e),w.onLoad(b,e),t&&t(b,e)}E.processed(b),w.onProcessStart(b);var i=document.createElement("img");function e(){var e=this.src;E.failed(b,e),w.onError(b,e),r&&r(b,e)}i.onerror=e;var o=b.getAttribute(A);if(o){var n=b.getAttribute(O);return i.onload=function(){w.setSourcesOnlyOnLoad&&(n&&(b.srcset=n),b.src=o),a(i.currentSrc)},n&&(i.srcset=n,!0!==w.setSourcesOnlyOnLoad&&(b.srcset=n)),i.src=o,!0!==w.setSourcesOnlyOnLoad&&(b.src=o),0}if(o=b.getAttribute(L))return i.onload=function(){w.setSourcesOnlyOnLoad&&(b.style.backgroundImage="url(".concat(o,")")),a(i.currentSrc)},i.src=o,!0!==w.setSourcesOnlyOnLoad&&(b.style.backgroundImage="url(".concat(o,")")),0;if(o=b.getAttribute(S)){var s=b.querySelector("image");if(s instanceof window.SVGImageElement)return i.onload=function(){w.setSourcesOnlyOnLoad&&s.setAttribute("href",o),a(i.currentSrc)},i.src=o,!0!==w.setSourcesOnlyOnLoad&&s.setAttribute("href",o),0}if(o=b.getAttribute(p))return b.onload=function(){a(this.src)},b.onerror=e,b.src=o,0;if("picture"===b.nodeName.toLowerCase()){var c=b.getElementsByTagName("img")[0];if(c instanceof window.HTMLImageElement){for(var u=function(e){return e.replace(/^\/\//i,"").replace(window.location.origin,"")},d=u(c.currentSrc),l=null,f=null,v=0;v<b.children.length;v++){var m=b.children[v],z="source"===m.nodeName.toLowerCase(),g="img"===m.nodeName.toLowerCase();d===u(z?m.srcset:g?m.src:"")&&(l=m.getAttribute(A)||null,f=m.getAttribute(O))}return null===l?(console.warn("You must provide all the `data-zzload-source-*` attributes for all children."),console.warn(b),null):(i.onload=function(){for(var e=0;e<b.children.length;e++){var t=b.children[e],r=t.getAttribute(A),o=t.getAttribute(O);"source"===t.nodeName.toLowerCase()?(o&&(r+=", "+o),t.srcset=r):"img"===t.nodeName.toLowerCase()&&(o&&(t.srcset=o),t.src=r),h(t)}var n=i.currentSrc;a(n)},f&&(i.srcset=f),i.src=l,null)}console.warn("No `img` in `picture`!")}if(b.hasAttribute(y))return E.loaded(b),w.onLoad(b),t&&t(b),0;console.log(b),console.log("â–² element has no zz-load source")}return e&&window.Promise?new Promise(function(e,t){r(e,t)}):(r(),null)}function r(e,t){var r=1<arguments.length&&void 0!==t?t:{};return new window.CustomEvent(e,{detail:r})}var t="data-zzload-is-observed",o="data-zzload-is-processed",n="data-zzload-is-loaded",a="data-zzload-is-failed",i="data-zzload-is-inview",A="data-zzload-source-img",O="data-zzload-source-srcset",L="data-zzload-source-background-img",S="data-zzload-source-image",p="data-zzload-source-iframe",y="data-zzload-container",u="data-zzload-inview",s="zzload:observed",d="zzload:processed",l="zzload:loaded",f="zzload:failed",v="zzload:inView",m="zzload:outOfView",z={rootMargin:"0px",threshold:0,clearSourceAttrs:!1,setSourcesOnlyOnLoad:!0,onProcessStart:function(){},onLoad:function(){},onError:function(){}},E={observed:function(e){e.setAttribute(t,!0),e.dispatchEvent(r(s,{element:e}))},processed:function(e){e.setAttribute(o,!0),e.dispatchEvent(r(d,{element:e}))},loaded:function(e,t){e.setAttribute(n,!0),e.dispatchEvent(r(l,{element:e,source:t}))},failed:function(e,t){e.setAttribute(a,!0),e.dispatchEvent(r(f,{element:e,source:t}))},inView:function(e,t){e.setAttribute(i,!0),e.dispatchEvent(r(v,{element:e,source:t}))},outOfView:function(e,t){e.removeAttribute(i),e.dispatchEvent(r(m,{element:e,source:t}))}},g=function(e){return e.hasAttribute(t)},b=function(e){return e.hasAttribute(o)},w=function(e){return e.hasAttribute(i)};return function(n,e){var a,i=function(e){var t=0<arguments.length&&void 0!==e?e:{},r={};for(var o in z)r[o]=t.hasOwnProperty(o)?t[o]:z[o];return r}(e),s=null;return window.IntersectionObserver&&(s=new window.IntersectionObserver(function(e,o){e.forEach(function(e){var t=e.target,r=t.hasAttribute(u);0<e.intersectionRatio||e.isIntersecting?r?E.inView(t,null):(o.unobserve(t),c(t,a)):r&&w(t)&&E.outOfView(t,null)})},{rootMargin:(a=i).rootMargin,threshold:i.threshold})),{observe:function(){for(var e,t=(e=n)instanceof window.Element?[e]:e instanceof window.NodeList?e:e&&e.jquery?e.toArray():("string"!=typeof e&&(e=".zzload"),document.querySelectorAll(e)),r=0;r<t.length;r++){var o=t[r];g(o)||(E.observed(o),s?s.observe(o):c(o,i))}},triggerLoad:function(e){if(!b(e))return E.observed(e),c(e,i,!0)}}}}();
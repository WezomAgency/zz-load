var zzLoad=function(){"use strict";var d={rootMargin:"0px",threshold:0,onLoad:function(){},onError:function(){}},c=function(a,i,d,r){var n=function(n,o){u.processed(a);var e=document.createElement("img");e.onload=function(){var r=e.src,t=new window.CustomEvent("zzload:load",{detail:{element:a,src:r}});u.loaded(a),a.dispatchEvent(t),i(a,e.src),n&&n(a,e.src)},e.onerror=function(){var r=e.src,t=new window.CustomEvent("zzload:error",{detail:{element:a,src:r}});u.failed(a),a.dispatchEvent(t),d(a,r),o&&o(a,r)};var r=a.getAttribute("data-zzload-img");if(r)return e.src=r,a.src=r,null;var t=a.getAttribute("data-zzload-background-img");return t?(e.src=t,a.style.backgroundImage="url(".concat(t,")"),null):void 0};return r&&window.Promise?new Promise(function(r,t){n(r,t)}):(n(),null)},u={processed:function(r){r.setAttribute("data-zzload-processed",!0)},loaded:function(r){r.setAttribute("data-zzload-loaded",!0)},failed:function(r){r.setAttribute("data-zzload-failed",!0)}},s=function(r){return"true"===r.getAttribute("data-zzload-processed")};return function(e,r){var o,a=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={};for(var n in d)t[n]=r.hasOwnProperty(n)?r[n]:d[n];return t}(r),i=null;return window.IntersectionObserver&&(i=new window.IntersectionObserver((o=a,function(r,n){r.forEach(function(r){if(0<r.intersectionRatio||r.isIntersecting){var t=r.target;n.unobserve(t),s(t)||c(t,o.onLoad,o.onError)}})}),{rootMargin:a.rootMargin,threshold:a.threshold})),{observe:function(){for(var r,t=(r=e)instanceof window.Element?[r]:r instanceof window.NodeList?r:r&&r.jquery?r.toArray():("string"!=typeof r&&(r=".zzload"),document.querySelectorAll(r)),n=0;n<t.length;n++){var o=t[n];s(o)||(i?i.observe(o):c(o,a.onLoad,a.onError))}},triggerLoad:function(r){if(!s(r))return c(r,a.onLoad,a.onError,!0)}}}}();
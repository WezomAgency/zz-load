var zzLoad=function(){"use strict";var d={rootMargin:"0px",threshold:0,onLoad:function(){},onError:function(){}},s=function(i,a,d,r){var o=function(o,n){c.processed(i);var e=document.createElement("img");e.onload=function(){var r=e.src,t=new window.CustomEvent("zzload:load",{detail:{element:i,src:r}});c.loaded(i),i.dispatchEvent(t),a(i,e.src),o&&o(i,e.src)},e.onerror=function(){var r=e.src,t=new window.CustomEvent("zzload:error",{detail:{element:i,src:r}});c.failed(i),i.dispatchEvent(t),d(i,r),n&&n(i,r)};var r=i.getAttribute("data-zzload-source-img");if(r)return e.src=r,i.src=r,null;var t=i.getAttribute("data-zzload-source-background-img");return t?(e.src=t,i.style.backgroundImage="url(".concat(t,")"),null):void 0};return r&&window.Promise?new Promise(function(r,t){o(r,t)}):(o(),null)},c={processed:function(r){r.setAttribute("data-zzload-is-processed",!0)},loaded:function(r){r.setAttribute("data-zzload-is-loaded",!0)},failed:function(r){r.setAttribute("data-zzload-is-failed",!0)}},u=function(r){return"true"===r.getAttribute("data-zzload-is-processed")};return function(e,r){var n,i=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={};for(var o in d)t[o]=r.hasOwnProperty(o)?r[o]:d[o];return t}(r),a=null;return window.IntersectionObserver&&(a=new window.IntersectionObserver((n=i,function(r,o){r.forEach(function(r){if(0<r.intersectionRatio||r.isIntersecting){var t=r.target;o.unobserve(t),u(t)||s(t,n.onLoad,n.onError)}})}),{rootMargin:i.rootMargin,threshold:i.threshold})),{observe:function(){for(var r,t=(r=e)instanceof window.Element?[r]:r instanceof window.NodeList?r:r&&r.jquery?r.toArray():("string"!=typeof r&&(r=".zzload"),document.querySelectorAll(r)),o=0;o<t.length;o++){var n=t[o];u(n)||(a?a.observe(n):s(n,i.onLoad,i.onError))}},triggerLoad:function(r){if(!u(r))return s(r,i.onLoad,i.onError,!0)}}}}();
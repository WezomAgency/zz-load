var zzLoad=function(){"use strict";var n={rootMargin:"0px",threshold:0,onLoad:function(){},onError:function(){}},t="data-zzload-is-observed",r="data-zzload-is-processed",o="data-zzload-is-loaded",a="data-zzload-is-failed",i="data-zzload-is-inview",g="data-zzload-source-img",b="data-zzload-source-background-img",p="data-zzload-source-image",A="data-zzload-source-iframe",E="data-zzload-container",u="data-zzload-inview",c=function(h,m,w,e){var r=function(t,r){L.processed(h);var e=document.createElement("img");function n(){var e=this.src;L.loaded(h,e),m(h,e),t&&t(h,e)}function o(){var e=this.src;L.failed(h,e),w(h,e),r&&r(h,e)}e.onload=n,e.onerror=o;var a=h.getAttribute(g);if(a)return e.src=a,h.src=a,null;if(a=h.getAttribute(b))return e.src=a,h.style.backgroundImage="url(".concat(a,")"),null;if(a=h.getAttribute(p)){var i=h.querySelector("image");if(i instanceof window.SVGImageElement)return e.src=a,i.setAttribute("href",a),null}if(a=h.getAttribute(A))return h.onload=n,h.onerror=o,h.src=a,null;if("picture"===h.nodeName.toLowerCase()){var s=h.getElementsByTagName("img")[0],u=/^(http(s)?:)?\/\//i;if(s instanceof window.HTMLImageElement){for(var c=s.currentSrc.replace(u,""),l=null,d=0;d<h.children.length;d++){var f=h.children[d];c===("source"===f.nodeName.toLowerCase()?f.srcset:f.src).replace(u,"")&&(l=f.dataset.zzloadSourcePicture||null)}if(null===l)return console.warn("Must provide `data-zzload-source-picture` on all children elements"),console.warn(h),null;s.onload=function(){for(var e=0;e<h.children.length;e++){var t=h.children[e];"source"===t.nodeName.toLowerCase()?t.srcset=t.dataset.zzloadSourcePicture:t.src=t.dataset.zzloadSourcePicture}};var v=(l=l.split(",")).shift(),z=l.join(",").replace(/^\s+/m,"");return z&&(s.srcset=z),s.src=v,null}console.warn("No `img` in `picture`!")}if(h.hasAttribute(E))return L.loaded(h),m(h),t&&t(h),null;console.log(h),console.log("â–² element has no zz-load source")};return e&&window.Promise?new Promise(function(e,t){r(e,t)}):(r(),null)},s=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new window.CustomEvent("zzload:".concat(e),{detail:t})},L={observed:function(e){e.setAttribute(t,""),e.dispatchEvent(s("observed",{element:e}))},processed:function(e){e.setAttribute(r,""),e.dispatchEvent(s("processed",{element:e}))},loaded:function(e,t){e.setAttribute(o,""),e.dispatchEvent(s("loaded",{element:e,source:t}))},failed:function(e,t){e.setAttribute(a,""),e.dispatchEvent(s("failed",{element:e,source:t}))},inView:function(e,t){e.setAttribute(i,""),e.dispatchEvent(s("inView",{element:e,source:t}))},outOfView:function(e,t){e.removeAttribute(i,""),e.dispatchEvent(s("outOfView",{element:e,source:t}))}},l=function(e){return e.hasAttribute(t)},d=function(e){return e.hasAttribute(r)},f=function(e){return e.hasAttribute(i)};return function(o,e){var a,i=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={};for(var r in n)t[r]=e.hasOwnProperty(r)?e[r]:n[r];return t}(e),s=null;return window.IntersectionObserver&&(s=new window.IntersectionObserver((a=i,function(e,n){e.forEach(function(e){var t=e.target,r=t.hasAttribute(u);0<e.intersectionRatio||e.isIntersecting?r?L.inView(t,null):(n.unobserve(t),c(t,a.onLoad,a.onError)):r&&f(t)&&L.outOfView(t,null)})}),{rootMargin:i.rootMargin,threshold:i.threshold})),{observe:function(){for(var e,t=(e=o)instanceof window.Element?[e]:e instanceof window.NodeList?e:e&&e.jquery?e.toArray():("string"!=typeof e&&(e=".zzload"),document.querySelectorAll(e)),r=0;r<t.length;r++){var n=t[r];l(n)||(L.observed(n),s?s.observe(n):c(n,i.onLoad,i.onError))}},triggerLoad:function(e){if(!d(e))return L.observed(e),c(e,i.onLoad,i.onError,!0)}}}}();